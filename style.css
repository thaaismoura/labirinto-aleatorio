:root{
  --bg:#f5f7fb;
  --panel:#111827cc;
  --text-on-panel:#e5e7eb;
  --wall:#1f2937;
  --path:#0b1022;
  --player:#f59e0b;
  --goal:#ef4444;
  --ring:#ffffff11;
}
*{box-sizing:border-box;}
html,body{height:100%;margin:0;}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial;
  background:var(--bg);
  color:#111;
}
.wrap{
  min-height:100svh;
  display:grid;
  grid-template-rows:auto 1fr auto;
  gap:12px;
  padding:10px;
}
.bar{
  width:min(100%,1200px);
  margin-inline:auto;
  background:var(--panel);
  color:var(--text-on-panel);
  border-radius:16px;
  padding:10px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;}
.badge{background:#111827;color:#e5e7eb;padding:2px 8px;border-radius:999px;}
.btn{
  background:#0b1226;
  color:#e5e7eb;
  border:1px solid #374151;
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
}
.btn.primary{background:#0e1a38;border-color:#3b82f6;}
.stage-wrap{display:grid;place-items:center;width:100%;}
.canvas-wrap{
  width:min(100%,1200px);
  min-height:320px;
  position:relative;
  display:grid;
  place-items:center;
  padding:12px;
  border-radius:16px;
  background:radial-gradient(60% 60% at 50% 50%,var(--ring),transparent 60%),var(--bg);
  box-shadow:0 8px 30px rgba(0,0,0,.12);
}
canvas{
  border-radius:12px;
  box-shadow:0 0 16px #00000040;
  max-width:100%;
  max-height:100%;
  image-rendering:pixelated;
}
.overlay{
  position:absolute;inset:0;
  display:grid;place-items:center;
  pointer-events:none;opacity:0;transition:.25s;
}
.overlay.show{pointer-events:auto;opacity:1;}
.card{
  background:#0b1226;color:#e5e7eb;border:1px solid #374151;
  border-radius:14px;padding:16px;width:min(90vw,420px);
  box-shadow:0 10px 35px rgba(0,0,0,.35);
}
.card .row{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;}
.dpad{
  position:absolute;left:12px;bottom:12px;
  display:none;
  gap:8px;align-items:center;
  z-index:5;
}
.dpad .key{
  width:56px;height:56px;font-size:20px;
  border-radius:12px;border:1px solid #374151;
  background:#0b1226cc;color:#e5e7eb;
}
.dpad .mid{display:flex;gap:8px;}
@media(max-width:820px){
  .dpad{display:flex;flex-direction:column;}
}
